{% load static %}
<!doctype html>
<html lang="en">
	<head>
		{% include "head2.html" %}
	</head>

    <body>
    <nav class="navbar navbar-expand-lg navbar-light shadow-sm" style="background-color: white;">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
            <img src="{% static 'img/logo4.png' %}" width="" height="40px" alt="Logo">
            </a>
            <div class="nav-sec" id="">
                <ul class="navbar-nav ms-auto flex" style="margin-right: 200px;">
                    <li class="nav-item ">
                        <button class="btn-oacc-link" style="">
                            <a class="" href="#" style="color: #40196d;">Open an account</a>
                        </button>
                    </li>
                    <li class="nav-item">
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="check-header">
            Please check that you are visiting the correct URL <a href="#">https://camptoken.com</a>
        </div>
        <div class="signup-form">
            <h4 class="">Password Reset</h4>


            {% if messages %}
				{% for message in messages %}
					{% if message.tags == "error" %}
						<div class="error-msg fade-in">
							<i class="fa-solid fa-circle-exclamation"></i>
							{{ message }}
						</div>
					{% endif %}
				{% endfor %}
			{% endif %}

            {% if form.errors %}
                {% for field in form %}
                    {% if field.errors %}
                        {% for error in field.errors %}
                            <div class="error-msg fade-in">
                                <i class="fa-solid fa-circle-exclamation"></i>
                                {{ error }}
                            </div> 
                        {% endfor %}
                    {% endif %}
                {% endfor %}
                
			{% endif %}

            <br>
            {% if validlink %}
                <form method="POST" class="row needs-validation" novalidate>
                    {% csrf_token %}
                    
                    <div class="item col-md-12">
                        <label for="{{ form.new_password1.id_for_label }}" class="form-label">New Password</label>
                        <div class="input-group has-validation">
                            <input name="{{ form.new_password1.name }}" type="password" class="form-control" id="{{ form.new_password1.id_for_label }}" aria-describedby="inputGroupPrepend" required>
                        </div>
                    </div>


                    <div class="item col-md-12">
                        <label for="{{ form.new_password2.id_for_label }}" class="form-label">Confirm New Password</label>
                        <div class="input-group has-validation">
                            <input name="{{ form.new_password2.name }}" type="password" class="form-control" id="{{ form.new_password2.id_for_label }}" aria-describedby="inputGroupPrepend" required>
                        </div>
                    </div>


                    <div class="pay-button go-down-md">
                        <button id="pay-btn" class="bg-prm-color" type="submit">Change Password</button>
                    </div>

                </form>
            {% else %}

                <div class="error-msg fade-in">
                    <i class="fa-solid fa-circle-exclamation"></i>
                    <p>The link you followed is invalid or has expired. Please request a new password reset link.</p>
                </div>

            {% endif %}


        </div>


    </div>


    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/5f0ec56c6d.js" crossorigin="anonymous"></script>
    <script>
        (() => {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        const forms = document.querySelectorAll('.needs-validation')

        // Loop over them and prevent submission
        Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
            if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
            }

            form.classList.add('was-validated')
            }, false)
        })
        })()
    </script>


    </body>
</html>